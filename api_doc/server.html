

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>server &mdash; gobigger 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="utils" href="utils.html" />
    <link rel="prev" title="render" href="render.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> gobigger
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Doc</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="agents.html">agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="balls.html">balls</a></li>
<li class="toctree-l2"><a class="reference internal" href="managers.html">managers</a></li>
<li class="toctree-l2"><a class="reference internal" href="players.html">players</a></li>
<li class="toctree-l2"><a class="reference internal" href="render.html">render</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">utils</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gobigger</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">API Doc</a> &raquo;</li>
        
      <li>server</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api_doc/server.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="server">
<h1>server<a class="headerlink" href="#server" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="id1">
<h2>Server<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="gobigger.server.server.Server">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">gobigger.server.server.</span></code><code class="sig-name descname"><span class="pre">Server</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gobigger/server/server.html#Server"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gobigger.server.server.Server" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Overview:</dt><dd><p>Server is responsible for the management of the entire game environment, including the status of all balls in the environment, and the status update after the action is entered
The main logic when updating is as follows:
0 tick -&gt; input action -&gt; update the state of the player’s ball -&gt; update the state of all balls after the current state continues for 1 tick</p>
<blockquote>
<div><p>-&gt; detect collision and eating (update status) -&gt; 0 tick end/1 tick start</p>
</div></blockquote>
<p>The details are as follows:
1. Generate all balls (food, thorns, players)
2. Single step</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Modify the current state of all players’ balls according to the action (including acceleration, instantaneous state after splitting/spitting)</p></li>
<li><p>Continue a tick for the current state of all balls, that is, update the acceleration/velocity/position of each ball after a tick, and at the same time the ball that is in the moving state in this tick</p></li>
<li><p>Adjust all balls in each player (rigid body collision + ball-ball fusion)</p></li>
<li><dl class="simple">
<dt>For each ball moved in this tick (already sorted by priority):</dt><dd><ol class="arabic simple">
<li><p>We will know which balls he collided with (there will be repetitions)</p></li>
<li><dl class="simple">
<dt>Category discussion</dt><dd><ol class="arabic simple">
<li><dl class="simple">
<dt>One of the balls is the player ball</dt><dd><ol class="arabic simple">
<li><p>Another is another player’s ball, the bigger one eats the smaller one</p></li>
<li><p>The other side is your own clone, in fact, you don’t need to deal with it if you have already dealt with it before.</p></li>
<li><p>Another is food/spores, player ball eat it</p></li>
<li><dl class="simple">
<dt>Another is the thornball</dt><dd><ol class="arabic simple">
<li><p>Do not touch the center of the circle, continue</p></li>
<li><dl class="simple">
<dt>Hit the center of the circle</dt><dd><ol class="arabic simple">
<li><dl class="simple">
<dt>player ball is older than thornball</dt><dd><ol class="arabic simple">
<li><p>number of player’s avatar reaches the upper limit, thornball will be eaten</p></li>
<li><p>number of player’s avatar doesn’t reache the upper limit, player ball eat thornball and blow up</p></li>
</ol>
</dd>
</dl>
</li>
<li><p>player ball is younger than thornball, nothing happened</p></li>
</ol>
</dd>
</dl>
</li>
</ol>
</dd>
</dl>
</li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>One of the balls is a thornball</dt><dd><ol class="arabic simple">
<li><dl class="simple">
<dt>Another is the player ball</dt><dd><ol class="arabic simple">
<li><dl class="simple">
<dt>hit the center of a circle</dt><dd><ol class="arabic simple">
<li><dl class="simple">
<dt>player ball is older than thornball</dt><dd><ol class="arabic simple">
<li><p>number of player’s avatar reaches the upper limit, thornball will be eaten</p></li>
<li><p>number of player’s avatar doesn’t reache the upper limit, player ball eat thornball and blow up</p></li>
</ol>
</dd>
</dl>
</li>
<li><p>player ball is younger than thornball, nothing happened</p></li>
</ol>
</dd>
</dl>
</li>
<li><p>Do not touch the center of the circle, continue,</p></li>
</ol>
</dd>
</dl>
</li>
<li><p>The another is the spore, thornball eat it and add a speed and acceleration</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>One of the balls is Spore</dt><dd><ol class="arabic simple">
<li><p>Another is the player ball, Spore was eaten</p></li>
<li><p>Another is the thorn ball, Spore was eaten</p></li>
</ol>
</dd>
</dl>
</li>
</ol>
</dd>
</dl>
</li>
</ol>
</dd>
</dl>
</li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>After each tick, check if you want to update food, thorns, and player rebirth</p></li>
</ol>
</dd>
</dl>
<dl class="py method">
<dt id="gobigger.server.server.Server.spawn_balls">
<code class="sig-name descname"><span class="pre">spawn_balls</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gobigger/server/server.html#Server.spawn_balls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gobigger.server.server.Server.spawn_balls" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize all balls</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="utils.html" class="btn btn-neutral float-right" title="utils" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="render.html" class="btn btn-neutral float-left" title="render" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, OpenDILab Contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>